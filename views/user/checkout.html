<!DOCTYPE html>
<html>
<head>
  <title>Checkout</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
  <button id="pay-btn">Pay Now</button>

  <script>
    document.getElementById('pay-btn').onclick = async function () {
      // Fetch order_id from your server
      const response = await fetch('http://localhost:3000/create-order', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' }
      });
      const order = await response.json();

      const options = {
        key: 'rzp_test_IRO6IYKblBCp1', // Test Key ID (hardcoded for now)
        amount: order.amount, // Amount in paise
        currency: 'INR',
        name: 'Your Business Name',
        description: 'Test Transaction',
        order_id: order.id, // Use the order_id from server
        handler: function (response) {
          // Handle successful payment
          alert('Payment successful! Payment ID: ' + response.razorpay_payment_id);
          console.log(response);
        },
        prefill: {
          name: 'Customer Name',
          email: 'customer@example.com',
          contact: '9999999999'
        },
        theme: {
          color: '#F37254'
        }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    };
  </script>
</body>
</html>